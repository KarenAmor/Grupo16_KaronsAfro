<%- include ('./partials/doctype') %>

    <%- include ('./partials/head') %>
    <link rel="stylesheet" href="/css/stylesEditProduct.css">

        <body class="body">
            <%- include ('./partials/header') %>
                <main class="body">
                    <h3> EDITAR PRODUCTO</h3>
                    <div class="errores">
                        <ul>
            
                        </ul>
                    </div>
                    <form action="/administrador/editProduct/<%= product.id %>?_method=PUT
                        " method="POST" class="register" enctype="multipart/form-data"><b>
                            <button class="botonBack" type="button"><a href="/administrador">Volver</a></button>
                            <div class="nombreProducto">
                                <label>Nombre del Producto</label>
                                <input type="text" id="nombreProducto" name="nombreProducto" value="<%= product.name %>" 
                                class="<%= locals.errors && errors.nombreProducto ? 'is-invalid' : null %>"
                                value="<%= locals.oldData ? oldData.nombreProducto : null %>"
                                >
                                <% if (locals.errors && errors.nombreProducto) { %>
                                    <div class="text-danger">
                                        <%= errors.nombreProducto.msg  %> 
                                    </div>                     
                                <% } %>
                            </div>
                            <div class="precioProducto">
                                <label>Precio</label>
                                <input type="number" id="precioProducto" name="precioProducto" value="<%= product.price %>" 
                                class="<%= locals.errors && errors.precioProducto ? 'is-invalid' : null %>"
                            value="<%= locals.oldData ? oldData.precioProducto : null %>"
                                >
                                <% if (locals.errors && errors.precioProducto) { %>
                                    <div class="text-danger">
                                        <%= errors.precioProducto.msg  %> 
                                    </div>                     
                                <% } %>
                            </div>
                            <div class="referenciaProducto">
                                <label>Referencia</label>
                                <input type="texto" id="referenciaProducto" name="referenciaProducto" value="<%= product.reference %>" }
                                class="<%= locals.errors && errors.referenciaProducto ? 'is-invalid' : null %>"
                                value="<%= locals.oldData ? oldData.referenciaProducto : null %>"
                                >
                                <% if (locals.errors && errors.referenciaProducto) { %>
                                    <div class="text-danger">
                                        <%= errors.referenciaProducto.msg  %> 
                                    </div>                     
                                <% } %>
                            </div>
                            <div class="cantidadProducto">
                                <label>Cantidad Disponible</label>
                                <input type="texto" id="cantidadProducto" name="cantidadProducto" value="<%= product.quantity %>" 
                                class="<%= locals.errors && errors.cantidadProducto ? 'is-invalid' : null %>"
                                value="<%= locals.oldData ? oldData.cantidadProducto : null %>"
                                >
                                <% if (locals.errors && errors.cantidadProducto) { %>
                                    <div class="text-danger">
                                        <%= errors.cantidadProducto.msg  %> 
                                    </div>                     
                                <% } %>
                            </div>
                            <div class="descripcionProducto">
                                <label>Descripci√≥n del Producto</label>
                                <textarea id="descripcionProducto" name="descripcionProducto"
                                class="<%= locals.errors && errors.descripcionProducto ? 'is-invalid' : null %>"
                                value="<%= locals.oldData ? oldData.descripcionProducto : null %>"
                                ><%= product.description %></textarea>
                                <% if (locals.errors && errors.descripcionProducto) { %>
                                    <div class="text-danger">
                                        <%= errors.descripcionProducto.msg  %> 
                                    </div>                     
                                <% } %>
                            </div>

                            <div class="imagenProducto">
                                <h4>Imagen del Producto actual</h4>
                                <img src="/Images/products/<%= product.image %>"
                                width="300px" height="250px" alt="<%=product.name%>">
                                <input type="file" id="imagenProducto" name="imagenProducto"
                                class="<%= locals.errors && errors.imagenProducto ? 'is-invalid' : null %>"
                                >
                                <% if (locals.errors && errors.imagenProducto) { %>
                                    <div class="text-danger">
                                        <%= errors.imagenProducto.msg  %> 
                                    </div>                     
                                <% } %>
                            </div>
                            <div>
                                <button class="botonEdit" type="submit"><b>Actualizar Cambios</b></button>
                        </b>
                    </form>
                
                </main>
                <%- include ('./partials/footer') %>
        </body>
        <script src="/js/formularioProductosEdit.js"></script>
        </html>